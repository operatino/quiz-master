<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Quiz Master!</title>

    <link rel="stylesheet" media="all" href="css/main.css">
</head>
<body>

<header class="header">
    <h1 class="logo">Quiz Master</h1>
</header>

<section class="page">

    <div class="end-page">
        <div class="background"></div>
        <div class="results">
            <div id="answers" class="end--list"></div>
            <div id="scores" class="end--list"></div>

            <div class="bottom-buttons">
                <a class="back-btn" href="./">Back to catalog</a>
            </div>
        </div>
    </div>

</section>

<script src="node_modules/jquery/dist/jquery.min.js"></script>
<script src="js/store.js"></script>
<script>
    var movieId = 1;
    var myName = 'You';
    //Score.clear();
    Score.install();
    Score.setScore(movieId, myName, [{name: 'Q1', score: 1}, {name: 'Q2', score: 0},{name: 'Q3', score: 1}, {name: 'Q4', score: 0},{name: 'Q5', score: 1}, {name: 'Q6', score: 0},{name: 'Q7', score: 1}, {name: 'Q8', score: 0} ])
    //Score.setScore('You', 8, [{name: 'Q1', score: 1}])

    var scores = Score.getScores();
    var userAnswers = Score.getAnswersByUser(movieId, myName);
    var $scoresEl = '<h1>Your friends:</h1>';
    var $answerEl = '<h1>Your answers: %score%</h1>';
    var yourScore = 0;

    scores.sort(function (a, b) {
     return b.score - a.score ;
    });

    scores.forEach(function(score) {
        $scoresEl += '<span>' + score.name + ': ' + score.score + '</span>'
    });
    userAnswers.forEach(function(answer) {
        yourScore += answer.score;
        $answerEl += '<span class="' + (answer.score ? 'correct-answer': 'wrong-answer') + '">' + answer.name + '</span>'
    });

    $answerEl = $answerEl.replace(/%score%/gi, yourScore);

    $('#scores').html($scoresEl);
    $('#answers').html($answerEl);
</script>
</body>
</html>




